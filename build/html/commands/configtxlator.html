

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>configtxlator &mdash; hyperledger-fabricdocs master documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Cryptogen Commands" href="cryptogen-commands.html" />
    <link rel="prev" title="configtxgen" href="configtxgen.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          


          
            <a href="../index.html" class="icon icon-home"> hyperledger-fabricdocs
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
<br>
<a href="https://chat.hyperledger.org">Rocket Chat</a>  <a href="https://jenkins.hyperledger.org/">CI</a>
<a href="http://stackoverflow.com/questions/tagged/hyperledger-fabric">StackOverflow</a>
<br>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>
  <br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Welcome to Hyperledger Fabric</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../key_concepts.html">Key Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ops_guide.html">Operations Guides</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../command_ref.html">Commands Reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="peercommand.html">peer command</a></li>
<li class="toctree-l3"><a class="reference internal" href="peerchaincode.html">peer chaincode</a></li>
<li class="toctree-l3"><a class="reference internal" href="peerchannel.html">peer channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="peerversion.html">peer version</a></li>
<li class="toctree-l3"><a class="reference internal" href="peerlogging.html">peer logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="peernode.html">peer node</a></li>
<li class="toctree-l3"><a class="reference internal" href="configtxgen.html">configtxgen</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">configtxlator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-notes">Additional Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cryptogen-commands.html">Cryptogen Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="fabric-ca-commands.html">Fabric-CA Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">Architecture Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fabric-FAQ.html">Hyperledger Fabric FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ordering-service-faq.html">Ordering Service FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../CONTRIBUTING.html">Contributions Welcome!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../questions.html">Still Have Questions?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../status.html">Status</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key_concepts.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ops_guide.html">Operations Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../command_ref.html">Commands Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="peercommand.html">peer command</a></li>
<li class="toctree-l2"><a class="reference internal" href="peerchaincode.html">peer chaincode</a></li>
<li class="toctree-l2"><a class="reference internal" href="peerchannel.html">peer channel</a></li>
<li class="toctree-l2"><a class="reference internal" href="peerversion.html">peer version</a></li>
<li class="toctree-l2"><a class="reference internal" href="peerlogging.html">peer logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="peernode.html">peer node</a></li>
<li class="toctree-l2"><a class="reference internal" href="configtxgen.html">configtxgen</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">configtxlator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#syntax">Syntax</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configtxlator-start">configtxlator start</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configtxlator-proto-encode">configtxlator proto_encode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configtxlator-proto-decode">configtxlator proto_decode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configtxlator-compute-update">configtxlator compute_update</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configtxlator-version">configtxlator version</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#decoding">Decoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#encoding">Encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pipelines">Pipelines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#additional-notes">Additional Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cryptogen-commands.html">Cryptogen Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="fabric-ca-commands.html">Fabric-CA Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fabric-FAQ.html">Hyperledger Fabric FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ordering-service-faq.html">Ordering Service FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributions Welcome!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../questions.html">Still Have Questions?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status.html">Status</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">hyperledger-fabricdocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../command_ref.html">Commands Reference</a> &raquo;</li>
        
      <li>configtxlator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/commands/configtxlator.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configtxlator">
<span id="configtxlator"></span><h1>configtxlator<a class="headerlink" href="#configtxlator" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<span id="description"></span><h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">configtxlator</span></code> command allows users to translate between protobuf and JSON
versions of fabric data structures and create config updates.  The command may
either start a REST server to expose its functions over HTTP or may be utilized
directly as a command line tool.</p>
</div>
<div class="section" id="syntax">
<span id="syntax"></span><h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">configtxlator</span></code> tool has four sub-commands.</p>
<div class="section" id="configtxlator-start">
<span id="configtxlator-start"></span><h3>configtxlator start<a class="headerlink" href="#configtxlator-start" title="Permalink to this headline">¶</a></h3>
<p>Starts the REST server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">configtxlator</span> <span class="n">start</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">flags</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">Start</span> <span class="n">the</span> <span class="n">configtxlator</span> <span class="n">REST</span> <span class="n">server</span>

<span class="n">Flags</span><span class="p">:</span>
  <span class="o">--</span><span class="n">help</span>                <span class="n">Show</span> <span class="n">context</span><span class="o">-</span><span class="n">sensitive</span> <span class="n">help</span> <span class="p">(</span><span class="n">also</span> <span class="k">try</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">long</span> <span class="ow">and</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">man</span><span class="p">)</span><span class="o">.</span>
  <span class="o">--</span><span class="n">hostname</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span>  <span class="n">The</span> <span class="n">hostname</span> <span class="ow">or</span> <span class="n">IP</span> <span class="n">on</span> <span class="n">which</span> <span class="n">the</span> <span class="n">REST</span> <span class="n">server</span> <span class="n">will</span> <span class="n">listen</span>
  <span class="o">--</span><span class="n">port</span><span class="o">=</span><span class="mi">7059</span>           <span class="n">The</span> <span class="n">port</span> <span class="n">on</span> <span class="n">which</span> <span class="n">the</span> <span class="n">REST</span> <span class="n">server</span> <span class="n">will</span> <span class="n">listen</span>
</pre></div>
</div>
</div>
<div class="section" id="configtxlator-proto-encode">
<span id="configtxlator-proto-encode"></span><h3>configtxlator proto_encode<a class="headerlink" href="#configtxlator-proto-encode" title="Permalink to this headline">¶</a></h3>
<p>Converts JSON documents into protobuf messages.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">configtxlator</span> <span class="n">proto_encode</span> <span class="o">--</span><span class="nb">type</span><span class="o">=</span><span class="n">TYPE</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">flags</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">Converts</span> <span class="n">a</span> <span class="n">JSON</span> <span class="n">document</span> <span class="n">to</span> <span class="n">protobuf</span><span class="o">.</span>

<span class="n">Flags</span><span class="p">:</span>
  <span class="o">--</span><span class="n">help</span>                <span class="n">Show</span> <span class="n">context</span><span class="o">-</span><span class="n">sensitive</span> <span class="n">help</span> <span class="p">(</span><span class="n">also</span> <span class="k">try</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">long</span> <span class="ow">and</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">man</span><span class="p">)</span><span class="o">.</span>
  <span class="o">--</span><span class="nb">type</span><span class="o">=</span><span class="n">TYPE</span>           <span class="n">The</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">protobuf</span> <span class="n">structure</span> <span class="n">to</span> <span class="n">encode</span> <span class="n">to</span><span class="o">.</span> <span class="n">For</span> <span class="n">example</span><span class="p">,</span> <span class="s1">&#39;common.Config&#39;</span><span class="o">.</span>
  <span class="o">--</span><span class="nb">input</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdin</span>    <span class="n">A</span> <span class="n">file</span> <span class="n">containing</span> <span class="n">the</span> <span class="n">JSON</span> <span class="n">document</span><span class="o">.</span>
  <span class="o">--</span><span class="n">output</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdout</span>  <span class="n">A</span> <span class="n">file</span> <span class="n">to</span> <span class="n">write</span> <span class="n">the</span> <span class="n">output</span> <span class="n">to</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="configtxlator-proto-decode">
<span id="configtxlator-proto-decode"></span><h3>configtxlator proto_decode<a class="headerlink" href="#configtxlator-proto-decode" title="Permalink to this headline">¶</a></h3>
<p>Converts protobuf messages into JSON documents.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">configtxlator</span> <span class="n">proto_decode</span> <span class="o">--</span><span class="nb">type</span><span class="o">=</span><span class="n">TYPE</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">flags</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">Converts</span> <span class="n">a</span> <span class="n">proto</span> <span class="n">message</span> <span class="n">to</span> <span class="n">JSON</span><span class="o">.</span>

<span class="n">Flags</span><span class="p">:</span>
  <span class="o">--</span><span class="n">help</span>                <span class="n">Show</span> <span class="n">context</span><span class="o">-</span><span class="n">sensitive</span> <span class="n">help</span> <span class="p">(</span><span class="n">also</span> <span class="k">try</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">long</span> <span class="ow">and</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">man</span><span class="p">)</span><span class="o">.</span>
  <span class="o">--</span><span class="nb">type</span><span class="o">=</span><span class="n">TYPE</span>           <span class="n">The</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">protobuf</span> <span class="n">structure</span> <span class="n">to</span> <span class="n">decode</span> <span class="n">from</span><span class="o">.</span> <span class="n">For</span> <span class="n">example</span><span class="p">,</span> <span class="s1">&#39;common.Config&#39;</span><span class="o">.</span>
  <span class="o">--</span><span class="nb">input</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdin</span>    <span class="n">A</span> <span class="n">file</span> <span class="n">containing</span> <span class="n">the</span> <span class="n">proto</span> <span class="n">message</span><span class="o">.</span>
  <span class="o">--</span><span class="n">output</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdout</span>  <span class="n">A</span> <span class="n">file</span> <span class="n">to</span> <span class="n">write</span> <span class="n">the</span> <span class="n">JSON</span> <span class="n">document</span> <span class="n">to</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="configtxlator-compute-update">
<span id="configtxlator-compute-update"></span><h3>configtxlator compute_update<a class="headerlink" href="#configtxlator-compute-update" title="Permalink to this headline">¶</a></h3>
<p>Computes a config update based on an original, and modified config.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">configtxlator</span> <span class="n">compute_update</span> <span class="o">--</span><span class="n">channel_id</span><span class="o">=</span><span class="n">CHANNEL_ID</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">flags</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">Takes</span> <span class="n">two</span> <span class="n">marshaled</span> <span class="n">common</span><span class="o">.</span><span class="n">Config</span> <span class="n">messages</span> <span class="ow">and</span> <span class="n">computes</span> <span class="n">the</span> <span class="n">config</span> <span class="n">update</span> <span class="n">which</span> <span class="n">transitions</span> <span class="n">between</span> <span class="n">the</span> <span class="n">two</span><span class="o">.</span>

<span class="n">Flags</span><span class="p">:</span>
  <span class="o">--</span><span class="n">help</span>                   <span class="n">Show</span> <span class="n">context</span><span class="o">-</span><span class="n">sensitive</span> <span class="n">help</span> <span class="p">(</span><span class="n">also</span> <span class="k">try</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">long</span> <span class="ow">and</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">man</span><span class="p">)</span><span class="o">.</span>
  <span class="o">--</span><span class="n">original</span><span class="o">=</span><span class="n">ORIGINAL</span>      <span class="n">The</span> <span class="n">original</span> <span class="n">config</span> <span class="n">message</span><span class="o">.</span>
  <span class="o">--</span><span class="n">updated</span><span class="o">=</span><span class="n">UPDATED</span>        <span class="n">The</span> <span class="n">updated</span> <span class="n">config</span> <span class="n">message</span><span class="o">.</span>
  <span class="o">--</span><span class="n">channel_id</span><span class="o">=</span><span class="n">CHANNEL_ID</span>  <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">channel</span> <span class="k">for</span> <span class="n">this</span> <span class="n">update</span><span class="o">.</span>
  <span class="o">--</span><span class="n">output</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdout</span>     <span class="n">A</span> <span class="n">file</span> <span class="n">to</span> <span class="n">write</span> <span class="n">the</span> <span class="n">JSON</span> <span class="n">document</span> <span class="n">to</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="configtxlator-version">
<span id="configtxlator-version"></span><h3>configtxlator version<a class="headerlink" href="#configtxlator-version" title="Permalink to this headline">¶</a></h3>
<p>Shows the version.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">configtxlator</span> <span class="n">version</span>

<span class="n">Show</span> <span class="n">version</span> <span class="n">information</span>

<span class="n">Flags</span><span class="p">:</span>
  <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">context</span><span class="o">-</span><span class="n">sensitive</span> <span class="n">help</span> <span class="p">(</span><span class="n">also</span> <span class="k">try</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">long</span> <span class="ow">and</span> <span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">man</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="examples">
<span id="examples"></span><h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="decoding">
<span id="decoding"></span><h3>Decoding<a class="headerlink" href="#decoding" title="Permalink to this headline">¶</a></h3>
<p>Decode a block named <code class="docutils literal notranslate"><span class="pre">fabric_block.pb</span></code> to JSON and print to stdout.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">configtxlator</span> <span class="n">proto_decode</span> <span class="o">--</span><span class="nb">input</span> <span class="n">fabric_block</span><span class="o">.</span><span class="n">pb</span> <span class="o">--</span><span class="nb">type</span> <span class="n">common</span><span class="o">.</span><span class="n">Block</span>
</pre></div>
</div>
<p>Alternatively, after starting the REST server, the following curl command
performs the same operation through the REST API.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="n">binary</span> <span class="nd">@fabric_block</span><span class="o">.</span><span class="n">pb</span> <span class="s2">&quot;$</span><span class="si">{CONFIGTXLATOR_URL}</span><span class="s2">/protolator/decode/common.Block&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="encoding">
<span id="encoding"></span><h3>Encoding<a class="headerlink" href="#encoding" title="Permalink to this headline">¶</a></h3>
<p>Convert a JSON document for a policy from stdin to a file named <code class="docutils literal notranslate"><span class="pre">policy.pb</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">configtxlator</span> <span class="n">proto_encode</span> <span class="o">--</span><span class="nb">type</span> <span class="n">common</span><span class="o">.</span><span class="n">Policy</span> <span class="o">--</span><span class="n">output</span> <span class="n">policy</span><span class="o">.</span><span class="n">pb</span>
</pre></div>
</div>
<p>Alternatively, after starting the REST server, the following curl command
performs the same operation through the REST API.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="n">binary</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdin</span> <span class="s2">&quot;$</span><span class="si">{CONFIGTXLATOR_URL}</span><span class="s2">/protolator/encode/common.Policy&quot;</span> <span class="o">&gt;</span> <span class="n">policy</span><span class="o">.</span><span class="n">pb</span>
</pre></div>
</div>
</div>
<div class="section" id="pipelines">
<span id="pipelines"></span><h3>Pipelines<a class="headerlink" href="#pipelines" title="Permalink to this headline">¶</a></h3>
<p>Compute a config update from <code class="docutils literal notranslate"><span class="pre">original_config.pb</span></code> and <code class="docutils literal notranslate"><span class="pre">modified_config.pb</span></code> and decode it to JSON to stdout.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">configtxlator</span> <span class="n">compute_update</span> <span class="o">--</span><span class="n">channel_id</span> <span class="n">testchan</span> <span class="o">--</span><span class="n">original</span> <span class="n">original_config</span><span class="o">.</span><span class="n">pb</span> <span class="o">--</span><span class="n">updated</span> <span class="n">modified_config</span><span class="o">.</span><span class="n">pb</span> <span class="o">|</span> <span class="n">configtxlator</span> <span class="n">proto_decode</span> <span class="o">--</span><span class="nb">type</span> <span class="n">common</span><span class="o">.</span><span class="n">ConfigUpdate</span>
</pre></div>
</div>
<p>Alternatively, after starting the REST server, the following curl commands
perform the same operations through the REST API.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">-</span><span class="n">F</span> <span class="n">channel</span><span class="o">=</span><span class="n">testchan</span> <span class="o">-</span><span class="n">F</span> <span class="s2">&quot;original=@original_config.pb&quot;</span> <span class="o">-</span><span class="n">F</span> <span class="s2">&quot;updated=@modified_config.pb&quot;</span> <span class="s2">&quot;$</span><span class="si">{CONFIGTXLATOR_URL}</span><span class="s2">/configtxlator/compute/update-from-configs&quot;</span> <span class="o">|</span> <span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="n">binary</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">stdin</span> <span class="s2">&quot;$</span><span class="si">{CONFIGTXLATOR_URL}</span><span class="s2">/protolator/encode/common.ConfigUpdate&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="additional-notes">
<span id="additional-notes"></span><h2>Additional Notes<a class="headerlink" href="#additional-notes" title="Permalink to this headline">¶</a></h2>
<p>The tool name is a portmanteau of <em>configtx</em> and <em>translator</em> and is intended to
convey that the tool simply converts between different equivalent data
representations. It does not generate configuration. It does not submit or
retrieve configuration. It does not modify configuration itself, it simply
provides some bijective operations between different views of the configtx
format.</p>
<p>There is no configuration file <code class="docutils literal notranslate"><span class="pre">configtxlator</span></code> nor any authentication or
authorization facilities included for the REST server.  Because <code class="docutils literal notranslate"><span class="pre">configtxlator</span></code>
does not have any access to data, key material, or other information which
might be considered sensitive, there is no risk to the owner of the server in
exposing it to other clients.  However, because the data sent by a user to
the REST server might be confidential, the user should either trust the
administrator of the server, run a local instance, or operate via the CLI.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cryptogen-commands.html" class="btn btn-neutral float-right" title="Cryptogen Commands" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="configtxgen.html" class="btn btn-neutral" title="configtxgen" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Hyperledger 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'master',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>